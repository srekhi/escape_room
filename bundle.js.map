{"version":3,"sources":["webpack:///webpack/bootstrap cae316ed0f51aecdaff6","webpack:///./board.js","webpack:///./game.js","webpack:///./level.js","webpack:///./point.js","webpack:///./ray.js","webpack:///./wall.js","webpack:///./main.js"],"names":["Board","ctx","canvas","point","context","wallDimensions","map","row","dim","index","width","height","walls","wallArr","level","rays","removeDeadRays","forEach","ray","draw","filter","lifespan","coords","some","wall","topLeft","bottomRight","advanceRays","Game","board","keyStatus","createEventListeners","step","bind","self","window","addEventListener","event","key","preventDefault","makeSound","direction","assignDirection","collides","nextPos","move","fillStyle","fillRect","analyzeKeyMap","hasEscaped","alert","requestAnimationFrame","Level","Point","startingPos","c","pos","dx","dy","moving","movementDeltas","beginPath","arc","Math","PI","strokeStyle","stroke","delta","console","log","counter","DIRECTIONS","dir","posDir","cancelAnimationFrame","animationFrameId","Ray","startPos","xDir","yDir","head","tail","body","moveTo","lineTo","maxLen","push","length","collision","fadeOut","shift","grow","gradient","createLinearGradient","addColorStop","newXDir","newYDir","newHeadX","newXPoint","newHeadY","newYPoint","xCollision","yCollision","reflection","root3over2","sqrt","root2over2","Wall","x","y","topRight","bottomLeft","document","getElementById","getElementsByTagName","offsetWidth","innerHeight","getContext","p","game","hideSplashText","introText","classList","add","remove","removeEventListener"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cae316ed0f51aecdaff6","import Wall from './wall';\nimport Level from './level';\nclass Board {\n  constructor(ctx, canvas, point){\n    this.context = ctx;\n    this.point = point;\n    this.wallDimensions = [\n              [0, 0, 0.55, 0.25],\n              [0, 0.3, 0.7, 0.25],\n              [0.25, 0, 0.4, 0.25],\n              [0, 0, 0.02, 1],\n              [0.8, 0, 0.01, 1]\n          ];\n    // this.walls = [\n    //   new Wall(0, 0, window.innerWidth /4 - 100, window.innerHeight / 4 - 50),\n    //   new Wall(0, window.innerHeight/4 + 50, window.innerWidth - 50, window.innerHeight / 4),\n    //   new Wall(window.innerWidth/4 + 50, 0, window.innerWidth /2 - 50, window.innerHeight / 4),\n    //   new Wall(0, 0, window.innerWidth / 35 , window.innerHeight)\n    // ];\n\n    this.wallDimensions = this.wallDimensions\n            .map(row => {\n              return row.map((dim, index) => {\n                if (index % 2 === 0) {\n                  return dim * canvas.width;\n                } else {\n                  return dim * canvas.height;\n                }\n              });\n            });\n    this.walls = this.wallDimensions.map(wallArr => new Wall(...wallArr));\n    let level = new Level(this.context, this.walls);\n    this.level = level;\n    this.rays = []; //store all rays in the game.\n\n  }\n\n  walls(){\n    return this.walls;\n  }\n\n  // inBounds(coords){\n  //   // if point is outside of cavas, return false, else true\n  //   return !(coords[0] > window.innerWidth\n  //     || coords[0] < 0\n  //     || coords[1] > window.innerHeight\n  //     || coords[1] < 0);\n  // }\n\n  advanceRays(){ //each step reduces the rays lifetimes by 1.\n    this.rays = this.removeDeadRays();\n    this.rays.forEach(ray =>\n      ray.draw()\n    );\n  }\n\n  removeDeadRays(){\n    return this.rays.filter(ray =>\n      ray.lifespan > 0\n    );\n  }\n\n  collides(coords) {\n    return this.walls.some( wall => {\n      return !(\n        (coords[0] < wall.topLeft[0])\n          || (coords[0] > wall.bottomRight[0]\n          || (coords[1] < wall.topLeft[1])\n          || (coords[1] > wall.bottomRight[1])\n          )\n      );\n    });\n  }\n\n  draw(){\n    this.point.draw();\n    this.advanceRays();\n    this.level.draw(); //draw the structure of the level\n    \n  }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./board.js","import Wall from './wall';\nimport Level from './level';\nimport Point from './point';\nimport Ray from './ray';\nimport Board from './board';\n\nclass Game {\n  constructor(context, canvas, board, point) {\n    this.context = context;\n    this.board = board;\n    this.point = point;\n    this.canvas = canvas;\n\n    this.point.draw();\n    this.keyStatus = {}; //keep tally of which keys are pressed down.\n    // this.directions = { \"w\": \"up\", \"s\":\"down\", \"d\":\"right\", \"a\": \"left\"};\n    this.createEventListeners();\n    this.step = this.step.bind(this);\n    this.step();\n  }\n  createEventListeners(){\n    const self = this;\n    window.addEventListener(\"keydown\", event => {\n      this.keyStatus[event.key] = true;\n    });\n\n    window.addEventListener(\"keydown\", event => {\n      if (event.key === \" \") {\n          event.preventDefault();\n          this.point.makeSound(this.board); //needs to be separate JS effect from point.\n        }\n    });\n    window.addEventListener(\"keyup\", event => {\n      this.keyStatus[event.key] = false;\n    });\n  }\n\n  analyzeKeyMap(){\n    let direction = this.assignDirection();\n    if (!this.collides(this.point.nextPos(direction))){\n        this.point.move(direction);\n      }\n    }\n\n  hasWon(){\n    //check if player is out of bounds\n  }\n\n  step(){\n    //clear out the board\n    // this.keyStatus = {};\n    this.context.fillStyle = \"#222\";\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.analyzeKeyMap();\n    this.board.draw(); //will redraw board based on position of everything.\n    if (this.point.hasEscaped()) {\n      alert(\"YOU WON\");\n      return;\n    }\n\n    requestAnimationFrame(this.step);\n  }\n\n  assignDirection() {\n      if (this.keyStatus[\"w\"] && this.keyStatus[\"a\"]) {\n          return \"NW\";\n      } else if (this.keyStatus[\"a\"] && this.keyStatus[\"s\"]){\n          return \"SW\";\n      } else if (this.keyStatus[\"w\"] && this.keyStatus[\"d\"]){\n          return \"NE\";\n      } else if (this.keyStatus[\"d\"] && this.keyStatus[\"s\"]){\n          return \"SE\";\n      } else if (this.keyStatus[\"a\"]) {\n          return \"W\";\n      } else if (this.keyStatus[\"d\"]) {\n          return \"E\";\n      } else if (this.keyStatus[\"w\"]) {\n          return \"N\";\n      } else if (this.keyStatus[\"s\"]) {\n          return \"S\";\n      } else{\n        return \"\";\n      }\n    }\n\n  collides(coords) {\n    return this.board.collides(coords);\n  }\n}\n\nexport default Game;\n\n\n\n//   let p = new Point(ctx, [0, window.innerHeight / 2 + 25] );\n//   let level1 = new Level(ctx, walls);\n//   level1.draw();\n//   p.draw();\n//   document.addEventListener(\"keypress\", event => {\n//     if (event.key === \"w\"){\n//       animate(p,\"up\");\n//     }else if (event.key === \"a\") {\n//       animate(p,\"left\");\n//     }else if (event.key === \"s\"){\n//       animate(p,\"down\");\n//     }else if (event.key === \"d\"){\n//       animate(p,\"right\");\n//     }else if (event.key === \" \"){\n//       let ray = new Ray(ctx, p.pos);\n//       ray.grow();\n//     }\n//   });\n// });\n//\n//\n// function animate(point, direction){\n//   console.log(direction);\n//   point.move(direction);\n//   requestAnimationFrame(() =>{\n//     animate(point, direction);\n//   });\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./game.js","import Point from './point';\n\nclass Level {\n  constructor(context, walls){\n    this.walls = walls;\n    this.context = context;\n    // this.point = new Point(context\n  }\n\n  draw(){\n    this.walls.forEach((wall) => {\n      wall.draw(this.context);\n    });\n  }\n}\n\nexport default Level;\n\n\n\n// WEBPACK FOOTER //\n// ./level.js","import Game from './game';\nimport Ray from './ray';\nimport Board from './board';\nclass Point {\n  constructor(context, canvas, startingPos){\n    this.c = context;\n    this.pos = startingPos;\n    this.dx = 5;\n    this.dy = -5;\n    this.moving = false;\n    this.canvas = canvas;\n    // this.board = board;\n    // this.draw();\n    // this.animate = this.animate.bind(this);\n    this.movementDeltas = {\n      \"NW\": [-this.dx, this.dy],\n      \"SW\": [-this.dx, -this.dy],\n      \"NE\": [this.dx, this.dy],\n      \"SE\": [this.dx, -this.dy],\n      \"W\": [-this.dx, 0],\n      \"E\": [this.dx, 0],\n      \"N\": [0, this.dy],\n      \"S\": [0, -this.dy]\n     };\n  }\n\n  draw(){\n    this.c.beginPath();\n    this.c.arc(this.pos[0], this.pos[1], 5, 0, Math.PI * 2, false);\n    this.c.fillStyle = \"white\";\n    this.c.strokeStyle = \"white\";\n\n    this.c.stroke();\n  }\n\n  hasEscaped(){\n      // if point is outside of cavas, return false, else true\n      return (this.pos[0] > this.canvas.width\n        || this.pos[0] < 0\n        || this.pos[1] > this.canvas.height\n        || this.pos[1] < 0);\n  }\n\n  move(direction){\n    let delta;\n    this.moving = true;\n    delta = this.movementDeltas[direction];\n    this.pos = this.nextPos(direction);\n    this.draw();\n  }\n\n  makeSound(board){\n    console.log(\"WAVY\");\n    let counter = 10;\n    Ray.DIRECTIONS.forEach(dir => {\n      new Ray(this.c, 100, this.pos, dir[0] * 3, dir[1] * 3, board);\n    });\n\n      // let ray = new Ray(this.c, this.pos, 1, 1, board);\n      //\n      // ray.grow();\n  }\n\n\n\n  nextPos(direction){\n    let delta;\n    delta = this.movementDeltas[direction] || [0, 0]; //in case key pressed is irrelevant\n    return this.pos.map((posDir, index) => posDir + delta[index]);\n  }\n\n  stopMoving(){\n    this.moving = false;\n    window.cancelAnimationFrame(window.animationFrameId);\n  }\n\n  // animate(direction){\n  //   // this.c.clearRect(0, 0, innerHeight, innerWidth);\n  //   this.move(direction);\n  //   window.animationFrameId = window.requestAnimationFrame(() =>{\n  //     if (this.moving){\n  //       this.animate(direction);\n  //       if (this.collides()) this.stopMoving();\n  //     }\n  //   });\n  // }\n}\nexport default Point;\n\n\n\n// WEBPACK FOOTER //\n// ./point.js","import Game from './game';\nclass Ray {\n  constructor(context, lifespan, startPos, xDir, yDir, board){\n    this.c = context;\n    this.lifespan = lifespan;\n    this.head = startPos;\n    this.tail = startPos;\n    this.c.beginPath();\n    this.body = [this.startPos]; //records each point along the ray's line.\n    this.startPos = startPos;\n    this.c.moveTo(startPos[0], startPos[1]);\n    this.c.lineTo(startPos[0] + xDir, startPos[1] + yDir);\n    this.lifespan -= 1;\n    this.c.strokeStyle = \"blue\";\n    this.maxLen = 50;\n    this.c.stroke();\n    this.xDir = xDir;\n    this.yDir = yDir;\n    this.board = board;\n    this.draw();\n    this.board.rays.push(this);\n    this.length = 0;\n  }\n\n  grow(){\n    if (this.lifespan > 0 && !this.collision()){\n      this.head = [this.head[0] + this.xDir, this.head[1] + this.yDir];\n      this.length += 1;\n      this.body.push(this.head);\n      if (this.length > this.maxLen){\n        this.fadeOut();\n      }\n      this.lifespan -=1;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  fadeOut(){\n    this.body.shift();\n    this.tail = this.body[0];\n    }\n\n  draw(){\n    this.c.beginPath();\n    this.c.moveTo(this.tail[0], this.tail[1]);\n    if (this.grow()){\n      this.c.lineTo(this.head[0], this.head[1]);\n      let gradient = this.c.createLinearGradient(this.tail[0], this.tail[1], this.head[0], this.head[1]);\n      gradient.addColorStop(0, '#808080');\n      gradient.addColorStop(1, 'white');\n      this.c.strokeStyle = gradient;\n      this.c.stroke();\n    }\n  }\n\n  nextPos(){\n\n  }\n  collision(){\n    let newXDir = this.xDir;\n    let newYDir = this.yDir;\n\n    const newHeadX = this.head[0] + (this.xDir);\n    const newXPoint = [newHeadX, this.head[1]];\n\n    const newHeadY = this.head[1] + (this.yDir);\n    const newYPoint = [this.head[0], newHeadY];\n    // console.log(this.lifespan);\n    let xCollision = this.board.collides(newXPoint);\n    let yCollision = this.board.collides(newYPoint);\n    if (xCollision || yCollision){\n      if (xCollision && yCollision){\n        newXDir = -1 * this.xDir;\n        newYDir = -1 * this.yDir;\n      }else if (xCollision){\n        newXDir = -1 * this.xDir;\n      }else if (yCollision){\n        newYDir = -1 * this.yDir;\n      }\n      const reflection = new Ray(this.c, this.lifespan - 1,this.head, newXDir, newYDir, this.board);\n      this.board.rays.push(reflection);\n      this.xDir = 0;\n      this.yDir = 0;\n\n      return true;\n    }else{\n      return false;\n    }\n  }\n}\n\n\n// The coordinates of a point with angle a with respect to x-axis on a circle of radius 1 are:\n// x = cos(a*Pi/180), y = sin(a*Pi/180)\n\n// const sixtyDegrees = 60 * Math.PI/180;\n// const sixtyDegreesX = Math.cos(sixtyDegrees);\n// const sixtyDegreesY = Math.sin(sixtyDegrees);\n//\n// const fortyFiveDegrees = (45 * Math.PI/180);\n// const fortyFiveDegreesX = Math.cos(fortyFiveDegrees);\n// const fortyFiveDegreesY = Math.sin(fortyFiveDegrees);\n//\n// const thirtyDegrees = (30 * Math.PI/180);\n// const thirtyDegreesX = Math.cos(thirtyDegrees);\n// const thirtyDegreesY = Math.sin(thirtyDegrees);\n//\n\nconst root3over2 = Math.sqrt(3)/2;\nconst root2over2 = Math.sqrt(2)/2;\n\n\n\nRay.DIRECTIONS = [\n  [0, 1],\n  [0.5, root3over2],\n  [root2over2, root2over2],\n  [root3over2, 0.5],\n  [1, 0],\n  [root3over2, -0.5],\n  [root2over2, -root2over2],\n  [0.5, -root3over2],\n  [0, -1],\n  [-0.5, -root3over2],\n  [-root2over2, -root2over2],\n  [-root3over2, -0.5],\n  [-1, 0],\n  [-root3over2, 0.5],\n  [-root2over2, root2over2],\n  [-0.5, root3over2],\n];\n\nexport default Ray;\n\n\n\n// WEBPACK FOOTER //\n// ./ray.js","class Wall {\n  constructor(x, y, width, height){\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n    this.topLeft = [x, y];\n    this.topRight = [x + width, y];\n    this.bottomLeft = [x, y + height];\n    this.bottomRight = [x + width, y + height];\n  }\n\n  draw(context){\n    context.fillStyle = \"black\";\n    context.fillRect(this.x, this.y, this.width, this.height);\n  }\n}\n\nexport default Wall;\n\n\n\n// WEBPACK FOOTER //\n// ./wall.js","import Wall from './wall';\nimport Level from './level';\nimport Point from './point';\nimport Ray from './ray';\nimport Game from './game';\nimport Board from './board';\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n  const canvas = document.getElementById('canvas');\n  const body = document.getElementsByTagName('body')[0];\n  canvas.width = body.offsetWidth;\n  canvas.height = window.innerHeight;\n  const ctx = canvas.getContext(\"2d\");\n  // (0, 0, window.innerWidth / 10, window.innerHeight)\n\n  // this.wallDimensions = [\n  //           [0, 0, 0.55, 0.25],\n  //           [0, 0.3, 0.7, 0.25],\n  //           [0.25, 0, 0.4, 0.25],\n  //           [0, 0, 0.02, 1],\n  //       ];\n  let p = new Point(ctx, canvas, [0.1 * canvas.width, canvas.height * 0.27]);\n  const board = new Board(ctx, canvas, p);\n  const game = new Game(ctx, canvas, board, p);\n  document.addEventListener(\"keypress\", hideSplashText);\n});\n\nconst hideSplashText = () => {\n  let introText = document.getElementById(\"game-intro\");\n  let canvas = document.getElementById(\"canvas\");\n  introText.classList.add(\"hidden\");\n  canvas.classList.remove(\"hidden\");\n  document.removeEventListener(\"keypress\", hideSplashText);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./main.js"],"sourceRoot":""}