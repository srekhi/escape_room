{"version":3,"sources":["webpack:///webpack/bootstrap 46a071e9baf275f9f268","webpack:///./js/game.js","webpack:///./js/board.js","webpack:///./js/level.js","webpack:///./js/point.js","webpack:///./js/ray.js","webpack:///./js/wall.js","webpack:///./js/levels_structure.js","webpack:///./js/main.js","webpack:///./js/monster.js"],"names":["LEVELS","walls","pointStartPos","monsterPositions","Game","context","canvas","levelPassed","playerEaten","levelCount","point","board","monsters","createMonsters","keyStatus","createEventListeners","step","bind","map","monsterPos","self","window","addEventListener","event","key","startsWith","preventDefault","makeSound","direction","assignDirection","collides","nextPos","move","forEach","monster","fillStyle","fillRect","width","height","analyzeKeyMap","moveMonsters","draw","hasEscaped","eaten","requestAnimationFrame","coords","Board","ctx","wallDimensions","row","dim","index","wallArr","level","rays","removeDeadRays","ray","filter","lifespan","some","wall","topLeft","bottomRight","drawMonsters","advanceRays","Level","Point","startingPos","c","pos","dx","dy","moving","movementDeltas","beginPath","arc","Math","PI","strokeStyle","closePath","stroke","delta","counter","DIRECTIONS","dir","posDir","cancelAnimationFrame","animationFrameId","Ray","startPos","xDir","yDir","fromMonster","console","log","head","tail","body","moveTo","lineTo","maxLen","push","length","collision","fadeOut","compareCoordToHead","wakeMonsters","coord","abs","floor","dormantMonsters","awake","arr1","arr2","every","includes","arr2Item","containsAll","shift","grow","gradient","createLinearGradient","addColorStop","newXDir","newYDir","newHeadX","newXPoint","newHeadY","newYPoint","xCollision","yCollision","reflection","root3over2","sqrt","root2over2","Wall","x","y","topRight","bottomLeft","strokeRect","document","getElementById","getElementsByTagName","offsetWidth","offsetHeight","getContext","game","hideSplashText","introText","classList","add","remove","removeEventListener","gameTransitions","levelNum","gameText","innerHTML","setTimeout","Monster","timer","fill","setInterval","ceil","deltaMagnitude","pow","unitVector"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 46a071e9baf275f9f268","import Wall from './wall';\n// import LEVELS from './levels_structure';\nimport Level from './level';\nimport Point from './point';\nimport Ray from './ray';\nimport Board from './board';\nimport Monster from './monster';\n\nconst LEVELS = {\n  1: {\n    walls:\n    [\n        [0, 0, 0.55, 0.25],\n        [0, 0.3, 0.7, 0.25],\n        [0.25, 0, 0.4, 0.25],\n        [0, 0, 0.02, 1],\n        [0.8, 0, 0.01, 1]\n    ],\n    pointStartPos: [.1, .27],\n    monsterPositions: [\n      [0.7, 0.20],\n    ]\n  },\n  2: {\n    walls: [\n      [0.0, 0.01, 1, 0.05],\n      [0.0, 0.01, 0.01, 1],\n      [0, 0.25, 0.8, 0.2],\n      [0.6, 0.6, 0.4, 0.2],\n      [0, 0.45, 0.4, 0.55],\n      [0.4, 0.9, 0.2, 0.1],\n      [0.9, 0, 0.2, 1]\n\n    ],\n    pointStartPos: [0.1, 0.1],\n    monsterPositions: [\n      [0.5, 0.5],\n    ]\n  },\n  3: {\n    walls: [\n      [0, 0.1, 0.55, 0.1],\n      [0, 0.01, 1, 0.01],\n      [0, 0, 0.01, 1],\n      [0.9, 0, 0.01, 1],\n      [0.6, 0.1, 0.4, 0.1],\n      [0.2, 0.3, 0.8, 0.5],\n      [0.3, 0.7, 0.1, 0.2],\n      [0.6, 0.6, 0.2, 0.35],\n      [0, 0.98, 0.8, 0.01]\n\n    ],\n    pointStartPos: [0.05, 0.05],\n    monsterPositions: [\n      [0.8, 0.3],\n      [0.5, 0.81],\n      [0.1, 0.9]\n    ]\n  },\n  4: {\n    walls:[\n      [0, 0.1, 0.55, 0.1],\n      [0, 0.01, 1, 0.01],\n      [0, 0, 0.01, 1],\n      [0.9, 0, 0.01, 1],\n      [0.6, 0.1, 0.4, 0.1],\n      [0.2, 0.3, 0.8, 0.5],\n      [0.3, 0.7, 0.1, 0.2],\n      [0.6, 0.6, 0.2, 0.35],\n      [0, 0.98, 0.8, 0.01]\n    ],\n    pointStartPos: [0.05, 0.05],\n    monsterPositions: [\n      []\n    ]\n  }\n};\n\nclass Game {\n  constructor(context, canvas, levelPassed, playerEaten) {\n    this.context = context;\n    this.levelCount = 4;\n    this.levelPassed = levelPassed;\n\n    this.monsterPositions = LEVELS[this.levelCount].monsterPositions;\n    this.canvas = canvas;\n    this.point = new Point(context, canvas, LEVELS[this.levelCount].pointStartPos);\n    this.board = new Board(context, canvas, this.point, LEVELS[this.levelCount].walls);\n    this.monsters = this.createMonsters();\n    this.board.monsters = this.monsters;\n    this.playerEaten = playerEaten;\n    this.keyStatus = {};\n    this.createEventListeners();\n    this.step = this.step.bind(this);\n    this.step();\n  }\n\n  createMonsters(){\n    return this.monsterPositions.map(monsterPos => {\n      return new Monster(this.context, this.canvas, monsterPos, this.board);\n    });\n  }\n  createEventListeners(){\n    const self = this;\n    window.addEventListener(\"keydown\", event => {\n        if (event.key.startsWith(\"Arrow\")) event.preventDefault();\n        this.keyStatus[event.key] = true;\n    });\n\n    window.addEventListener(\"keydown\", event => {\n      if (event.key === \" \") {\n\n          event.preventDefault();\n          this.point.makeSound(this.board); //needs to be separate JS effect from point.\n        }\n    });\n    window.addEventListener(\"keyup\", event => {\n      // debugger;.\n      self.keyStatus[event.key] = false;\n    });\n  }\n\n  analyzeKeyMap(){\n    let direction = this.assignDirection();\n    if (!this.collides(this.point.nextPos(direction))){\n        this.point.move(direction);\n      }\n    }\n\n\n  moveMonsters(){\n    this.monsters.forEach(monster => monster.move());\n  }\n\n  step(){\n    //clear out the board\n    // this.keyStatus = {};\n    this.context.fillStyle = \"black\";\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    this.analyzeKeyMap();\n    this.moveMonsters();\n    this.board.draw(); //will redraw board based on position of everything.\n    if (this.point.hasEscaped()) {\n      this.keyStatus = {};\n      this.levelPassed(this.levelCount);\n      this.levelCount += 1;\n      this.monsterPositions = LEVELS[this.levelCount].monsterPositions;\n      this.point = new Point(this.context, this.canvas, LEVELS[this.levelCount].pointStartPos);\n      this.board = new Board(this.context, this.canvas, this.point, LEVELS[this.levelCount].walls);\n      this.monsters = this.createMonsters();\n      this.board.monsters = this.monsters;\n\n    } else if (this.point.eaten) {\n\n      this.keyStatus = {};\n      this.playerEaten(this.levelCount);\n      this.monsterPositions = LEVELS[this.levelCount].monsterPositions;\n      this.point = new Point(this.context, this.canvas, LEVELS[this.levelCount].pointStartPos);\n      this.board = new Board(this.context, this.canvas, this.point, LEVELS[this.levelCount].walls);\n      this.monsters = this.createMonsters();\n      this.board.monsters = this.monsters;\n    }\n    requestAnimationFrame(this.step);\n  }\n\n  assignDirection() {\n    //  ArrowRight\n    //  ArrowDown\n    //  ArrowLeft\n    // ArrowUp\n      if (this.keyStatus[\"ArrowUp\"] && this.keyStatus[\"ArrowLeft\"]) {\n          return \"NW\";\n      } else if (this.keyStatus[\"ArrowLeft\"] && this.keyStatus[\"ArrowDown\"]){\n          return \"SW\";\n      } else if (this.keyStatus[\"ArrowUp\"] && this.keyStatus[\"ArrowRight\"]){\n          return \"NE\";\n      } else if (this.keyStatus[\"ArrowRight\"] && this.keyStatus[\"ArrowDown\"]){\n          return \"SE\";\n      } else if (this.keyStatus[\"ArrowLeft\"]) {\n          return \"W\";\n      } else if (this.keyStatus[\"ArrowRight\"]) {\n          return \"E\";\n      } else if (this.keyStatus[\"ArrowUp\"]) {\n          return \"N\";\n      } else if (this.keyStatus[\"ArrowDown\"]) {\n          return \"S\";\n      } else{\n        return \"\";\n      }\n    }\n\n  collides(coords) {\n    return this.board.collides(coords);\n  }\n}\n\nexport default Game;\n\n\n\n//   let p = new Point(ctx, [0, window.innerHeight / 2 + 25] );\n//   let level1 = new Level(ctx, walls);\n//   level1.draw();\n//   p.draw();\n//   document.addEventListener(\"keypress\", event => {\n//     if (event.key === \"w\"){\n//       animate(p,\"up\");\n//     }else if (event.key === \"a\") {\n//       animate(p,\"left\");\n//     }else if (event.key === \"s\"){\n//       animate(p,\"down\");\n//     }else if (event.key === \"ArrowRight\"){\n//       animate(p,\"right\");\n//     }else if (event.key === \" \"){\n//       let ray = new Ray(ctx, p.pos);\n//       ray.grow();\n//     }\n//   });\n// });\n//\n//\n// function animate(point, direction){\n//   console.log(direction);\n//   point.move(direction);\n//   requestAnimationFrame(() =>{\n//     animate(point, direction);\n//   });\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./js/game.js","import Wall from './wall';\nimport Level from './level';\n\nclass Board {\n  constructor(ctx, canvas, point, wallDimensions){\n    this.context = ctx;\n    this.point = point;\n    this.wallDimensions = wallDimensions;\n\n    this.wallDimensions = this.wallDimensions\n            .map(row => {\n              return row.map((dim, index) => {\n                if (index % 2 === 0) {\n                  return dim * canvas.width;\n                } else {\n                  return dim * canvas.height;\n                }\n              });\n            });\n    this.walls = this.wallDimensions.map(wallArr => new Wall(...wallArr));\n    let level = new Level(this.context, this.walls);\n    this.level = level;\n    this.rays = []; //store all rays in the game.\n    // this.draw();\n  }\n\n  walls(){\n    return this.walls;\n  }\n\n  advanceRays(){\n    this.rays = this.removeDeadRays();\n    this.rays.forEach(ray => ray.draw());\n  }\n\n  removeDeadRays(){\n    return this.rays.filter(ray => ray.lifespan > 0);\n  }\n\n  collides(coords) {\n    return this.walls.some( wall => {\n      return !(\n        (coords[0] < wall.topLeft[0])\n          || (coords[0] > wall.bottomRight[0])\n          || (coords[1] < wall.topLeft[1])\n          || (coords[1] > wall.bottomRight[1])\n          );\n      });\n  }\n\n  drawMonsters(){\n    this.monsters.forEach(monster => monster.draw());\n  }\n\n  draw(){\n    this.point.draw();\n    this.drawMonsters();\n    this.advanceRays();\n    this.level.draw();\n  }\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./js/board.js","import Point from './point';\n\nclass Level {\n  constructor(context, walls){\n    this.walls = walls;\n    this.context = context;\n    // this.point = new Point(context\n  }\n\n  draw(){\n    this.walls.forEach((wall) => {\n      wall.draw(this.context);\n    });\n  }\n}\n\nexport default Level;\n\n\n\n// WEBPACK FOOTER //\n// ./js/level.js","import Game from './game';\nimport Ray from './ray';\nimport Board from './board';\nclass Point {\n  constructor(context, canvas, startingPos){\n    this.c = context;\n    this.pos = [startingPos[0] * canvas.width, startingPos[1] * canvas.height];\n    this.dx = 5;\n    this.dy = -5;\n    this.moving = false;\n    this.canvas = canvas;\n    this.eaten = false;\n    // this.board = board;\n    // this.draw();\n    // this.animate = this.animate.bind(this);\n    this.movementDeltas = {\n      \"NW\": [-this.dx, this.dy],\n      \"SW\": [-this.dx, -this.dy],\n      \"NE\": [this.dx, this.dy],\n      \"SE\": [this.dx, -this.dy],\n      \"W\": [-this.dx, 0],\n      \"E\": [this.dx, 0],\n      \"N\": [0, this.dy],\n      \"S\": [0, -this.dy]\n     };\n  }\n\n  draw(){\n    this.c.beginPath();\n    this.c.arc(this.pos[0], this.pos[1], 2, 0, Math.PI * 2, false);\n    this.c.fillStyle = \"white\";\n    this.c.strokeStyle = \"white\";\n    this.c.closePath();\n    this.c.stroke();\n  }\n\n  hasEscaped(){\n      // if point is outside of cavas, return false, else true\n      return (this.pos[0] > this.canvas.width\n        || this.pos[0] < 0\n        || this.pos[1] > this.canvas.height\n        || this.pos[1] < 0);\n  }\n\n  move(direction){\n    let delta;\n    this.moving = true;\n    delta = this.movementDeltas[direction];\n    this.pos = this.nextPos(direction);\n    this.draw();\n  }\n\n  makeSound(board){\n    let counter = 10;\n    Ray.DIRECTIONS.forEach(dir => {\n      new Ray(this.c, 100, this.pos, dir[0] * 3, dir[1] * 3, board);\n    });\n  }\n\n  nextPos(direction){\n    let delta;\n    delta = this.movementDeltas[direction] || [0, 0]; //in case key pressed is irrelevant\n    return this.pos.map((posDir, index) => posDir + delta[index]);\n  }\n\n  stopMoving(){\n    this.moving = false;\n    window.cancelAnimationFrame(window.animationFrameId);\n  }\n\n}\nexport default Point;\n\n\n\n// WEBPACK FOOTER //\n// ./js/point.js","import Game from './game';\nclass Ray {\n  constructor(context, lifespan, startPos, xDir, yDir, board, fromMonster){\n    console.log('constructed');\n    this.c = context;\n    this.fromMonster = fromMonster;\n    this.lifespan = lifespan;\n    this.head = startPos;\n    this.tail = startPos;\n    this.c.beginPath();\n    this.body = [this.startPos]; //records each point along the ray's line.\n    this.startPos = startPos;\n    this.c.moveTo(startPos[0], startPos[1]);\n    this.c.lineTo(startPos[0] + xDir, startPos[1] + yDir);\n    this.lifespan -= 1;\n    this.c.strokeStyle = \"blue\";\n    this.maxLen = 50;\n    this.c.closePath();\n    this.c.stroke();\n    this.xDir = xDir;\n    this.yDir = yDir;\n    this.board = board;\n    this.draw();\n    this.board.rays.push(this);\n    this.length = 0;\n    // debugger;\n  }\n\n  grow(){\n    if (this.lifespan > 0 && !this.collision()){\n      this.head = [this.head[0] + this.xDir, this.head[1] + this.yDir];\n      this.length += 1;\n      this.body.push(this.head);\n      if (this.length > this.maxLen) this.fadeOut();\n      this.lifespan -=1;\n      if (this.fromMonster){ //check if eaten player\n        if (this.compareCoordToHead(this.board.point.pos)) this.board.point.eaten = true;\n      }\n      this.wakeMonsters();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  eatenPlayer(){\n\n  }\n\n  compareCoordToHead(coord){\n    return (Math.abs(Math.floor(this.head[0]) - Math.floor(coord[0])) < 3)\n    && (Math.abs(Math.floor(this.head[1]) - Math.floor(coord[1])) < 3);\n  }\n\n  wakeMonsters(){\n    let dormantMonsters = this.board.monsters.filter(monster => !monster.awake);\n    dormantMonsters.forEach(monster => {\n      if (this.compareCoordToHead(monster.pos)){\n        console.log('awakened');\n        monster.awake = true;\n      }\n    });\n  }\n  containsAll(arr1, arr2){\n    return arr2.every(arr2Item => arr1.includes(arr2Item));\n  }\n\n  sameMembers(arr1, arr2){\n    return this.containsAll(arr1, arr2) && this.containsAll(arr2, arr1);\n  }\n\n\n  fadeOut(){\n    this.body.shift();\n    this.tail = this.body[0];\n    }\n\n  draw(){\n    if (this.grow()){\n      this.c.beginPath();\n      this.c.moveTo(this.tail[0], this.tail[1]);\n      let gradient;\n      gradient = this.c.createLinearGradient(this.tail[0], this.tail[1], this.head[0], this.head[1]);\n      if (this.fromMonster){\n        gradient.addColorStop(0, '#3d0101');\n        gradient.addColorStop(1, 'red');\n      }else{\n        gradient.addColorStop(0, '#808080');\n        gradient.addColorStop(1, 'white');\n      }\n      this.c.strokeStyle = gradient;\n      this.c.lineTo(this.head[0], this.head[1]);\n      this.c.closePath();\n      this.c.stroke();\n    }\n  }\n\n  nextPos(){\n\n  }\n  collision(){\n    let newXDir = this.xDir;\n    let newYDir = this.yDir;\n\n    const newHeadX = this.head[0] + (this.xDir);\n    const newXPoint = [newHeadX, this.head[1]];\n\n    const newHeadY = this.head[1] + (this.yDir);\n    const newYPoint = [this.head[0], newHeadY];\n    // console.log(this.lifespan);\n    let xCollision = this.board.collides(newXPoint);\n    let yCollision = this.board.collides(newYPoint);\n    if (xCollision || yCollision){\n      // if (xCollision && yCollision){\n      //   newXDir = -1 * this.xDir;\n      //   newYDir = -1 * this.yDir;\n      //   if (newXDir > 0 && newYDir > 0){\n      //     this.head = [this.head[0] + 1, this.head[1] + 1];\n      //   } else if (newXDir < 0 && newYDir < 0) {\n      //     this.head = [this.head[0] - 1, this.head[1] - 1];\n      //   } else if (newXDir < 0 && newYDir > 0){\n      //     this.head = [this.head[0] - 1, this.head[1] + 1];\n      //   } else if (newXDir > 0 && newYDir < 0) {\n      //     this.head = [this.head[0] + 1, this.head[1] - 1];\n      //   }\n      // }else if (xCollision){\n      //   newXDir = -1 * this.xDir;\n      // }else if (yCollision){\n      //   newYDir = -1 * this.yDir;\n      // }\n        if (xCollision && yCollision){\n          newXDir = -1 * this.xDir;\n          newYDir = -1 * this.yDir;\n        }else if (xCollision){\n          newXDir = -1 * this.xDir;\n        }else if (yCollision){\n          newYDir = -1 * this.yDir;\n        }\n\n      const reflection = new Ray(this.c, this.lifespan - 1, this.head, newXDir, newYDir, this.board, this.fromMonster);\n  //    constructor(context, lifespan, startPos, xDir, yDir, board, fromMonster){\n      this.xDir = 0;\n      this.yDir = 0;\n      return true;\n    }else{\n      return false;\n    }\n  }\n}\n\n\n// The coordinates of a point with angle a with respect to x-axis on a circle of radius 1 are:\n// x = cos(a*Pi/180), y = sin(a*Pi/180)\n\n// const sixtyDegrees = 60 * Math.PI/180;\n// const sixtyDegreesX = Math.cos(sixtyDegrees);\n// const sixtyDegreesY = Math.sin(sixtyDegrees);\n//\n// const fortyFiveDegrees = (45 * Math.PI/180);\n// const fortyFiveDegreesX = Math.cos(fortyFiveDegrees);\n// const fortyFiveDegreesY = Math.sin(fortyFiveDegrees);\n//\n// const thirtyDegrees = (30 * Math.PI/180);\n// const thirtyDegreesX = Math.cos(thirtyDegrees);\n// const thirtyDegreesY = Math.sin(thirtyDegrees);\n//\n\nconst root3over2 = Math.sqrt(3)/2;\nconst root2over2 = Math.sqrt(2)/2;\n\nRay.DIRECTIONS = [\n  [0, 1],\n  [0.5, root3over2],\n  [root2over2, root2over2],\n  [root3over2, 0.5],\n  [1, 0],\n  [root3over2, -0.5],\n  [root2over2, -root2over2],\n  [0.5, -root3over2],\n  [0, -1],\n  [-0.5, -root3over2],\n  [-root2over2, -root2over2],\n  [-root3over2, -0.5],\n  [-1, 0],\n  [-root3over2, 0.5],\n  [-root2over2, root2over2],\n  [-0.5, root3over2],\n];\n\nexport default Ray;\n\n\n\n// WEBPACK FOOTER //\n// ./js/ray.js","class Wall {\n  constructor(x, y, width, height){\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n    this.topLeft = [x, y];\n    this.topRight = [x + width, y];\n    this.bottomLeft = [x, y + height];\n    this.bottomRight = [x + width, y + height];\n  }\n\n  draw(context){\n    context.beginPath();\n    // context.fillStyle = \"black\";\n    // context.fillRect(this.x, this.y, this.width, this.height);\n    // context.closePath();\n    // context.stroke();\n    context.strokeRect(this.x, this.y, this.width, this.height);\n  }\n}\n\nexport default Wall;\n\n\n\n// WEBPACK FOOTER //\n// ./js/wall.js","const LEVELS = {\n  1: {\n    walls:\n    [\n        [0, 0, 0.55, 0.25],\n        [0, 0.3, 0.7, 0.25],\n        [0.25, 0, 0.4, 0.25],\n        [0, 0, 0.02, 1],\n        [0.8, 0, 0.01, 1]\n    ],\n    pointStartPos: [.1, .27],\n  },\n  2: {\n    walls: [\n\n    ],\n    pointStartPos: [],\n  },\n};\n\nexport default LEVELS;\n\n\n\n// WEBPACK FOOTER //\n// ./js/levels_structure.js","import Wall from './wall';\nimport LEVELS from './levels_structure';\nimport Level from './level';\nimport Point from './point';\nimport Ray from './ray';\nimport Game from './game';\nimport Board from './board';\nimport Monster from './monster';\n\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n  const canvas = document.getElementById('canvas');\n  const body = document.getElementsByTagName('body')[0];\n  canvas.width = body.offsetWidth; //grab body width\n  canvas.height = body.offsetHeight; //viewport height\n  const ctx = canvas.getContext(\"2d\");\n  // (0, 0, window.innerWidth / 10, window.innerHeight)\n\n  // this.wallDimensions = [\n  //           [0, 0, 0.55, 0.25],\n  //           [0, 0.3, 0.7, 0.25],\n  //           [0.25, 0, 0.4, 0.25],\n  //           [0, 0, 0.02, 1],\n  //       ];\n  let levelCount = 1;\n  const game = new Game(ctx, canvas, levelPassed, playerEaten);\n  document.addEventListener(\"keydown\", hideSplashText);\n});\n\nconst hideSplashText = (event) => {\n  console.log();\n  if (event.key.startsWith(\"Arrow\")) event.preventDefault();\n  let introText = document.getElementById(\"game-intro\");\n  let canvas = document.getElementById(\"canvas\");\n  introText.classList.add(\"hidden\");\n  canvas.classList.remove(\"hidden\");\n  document.removeEventListener(\"keydown\", hideSplashText);\n};\n\nconst gameTransitions = {\n  1: \"Looks like you passed level 1. But the first level is always the easiest. Let's see how you do on the next one...\",\n  2: \"Well, well, well. You're better than I thought. But can you handle level 3?\",\n  3: \"You've earned my respect, young padawan. But no man has beaten the final level.\",\n  4: \"You are a god amongst men. Congratulations on your remarkable success. I am not worthy.\"\n};\n\n\nconst levelPassed = (levelNum) => {\n  const gameText = document.getElementById('game-intro');\n  const canvas = document.getElementById(\"canvas\");\n  canvas.classList.add(\"hidden\");\n  gameText.classList.remove(\"hidden\");\n\n  gameText.innerHTML = `<h3>${gameTransitions[levelNum]}</h3>`;\n\n  setTimeout(hideSplashText, 3000);\n};\n\nconst playerEaten = () => {\n  const gameText = document.getElementById('game-intro');\n  const canvas = document.getElementById(\"canvas\");\n  canvas.classList.add(\"hidden\");\n  gameText.classList.remove(\"hidden\");\n\n  gameText.innerHTML = `\n    <h3 id=\"consumed\">You have been eaten.\n        An untimely death for so promising of a player.\n        If you think you can handle it, press any key to try again.\n    </h3>`;\n    document.addEventListener(\"keypress\", hideSplashText);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import Game from './game';\nimport Ray from './ray';\nimport Board from './board';\nclass Monster {\n  constructor(context, canvas, startingPos, board){\n    this.c = context;\n    this.pos = [startingPos[0] * canvas.width, startingPos[1] * canvas.height];\n    this.dx = 5;\n    this.dy = -5;\n    this.awake = false;\n    this.canvas = canvas;\n    this.board = board;\n    this.timer = false;\n    this.movementDeltas = {\n      \"NW\": [-this.dx, this.dy],\n      \"SW\": [-this.dx, -this.dy],\n      \"NE\": [this.dx, this.dy],\n      \"SE\": [this.dx, -this.dy],\n      \"W\": [-this.dx, 0],\n      \"E\": [this.dx, 0],\n      \"N\": [0, this.dy],\n      \"S\": [0, -this.dy]\n     };\n  }\n\n  draw(){\n    if (this.awake){\n    this.c.beginPath();\n    this.c.arc(this.pos[0], this.pos[1], 5, 0, Math.PI * 2, false);\n    this.c.fillStyle = \"red\";\n    this.c.strokeStyle = \"red\";\n    this.c.closePath();\n    this.c.fill();\n    this.c.stroke();\n      if (!this.timer){\n        setInterval(() => this.makeSound(this.board), 1000); //add pulsing effect for monster;\n        this.timer = true;\n      }\n    }\n  }\n\n  move(){ // goal is to move toward the player\n    let delta;\n    if (this.awake){\n     delta = [\n      Math.ceil((this.board.point.pos[0] - this.pos[0])),\n      Math.ceil((this.board.point.pos[1] - this.pos[1]))\n    ];\n    let deltaMagnitude = Math.sqrt(Math.pow(delta[0], 2) + Math.pow(delta[1], 2));\n    let unitVector = delta.map(dir => dir/deltaMagnitude);\n    let nextPos = this.pos.map((posDir, index) => posDir + unitVector[index]);\n    if (!this.board.collides(nextPos)){\n      this.pos = nextPos;\n    }\n  }\n}\n\n  makeSound(board){\n    Ray.DIRECTIONS.forEach(dir => {\n      new Ray(this.c, 100, this.pos, dir[0] * 3, dir[1] * 3, board, true);\n    });\n\n  }\n\n  // stopMoving(){\n  //   this.moving = false;\n  //   window.cancelAnimationFrame(window.animationFrameId);\n  // }\n\n  // animate(direction){\n  //   // this.c.clearRect(0, 0, innerHeight, innerWidth);\n  //   this.move(direction);\n  //   window.animationFrameId = window.requestAnimationFrame(() =>{\n  //     if (this.moving){\n  //       this.animate(direction);\n  //       if (this.collides()) this.stopMoving();\n  //     }\n  //   });\n  // }\n}\nexport default Monster;\n\n\n\n// WEBPACK FOOTER //\n// ./js/monster.js"],"sourceRoot":""}